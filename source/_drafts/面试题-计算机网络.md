---
title: 面试题|计算机网络
tags:
---

<!-- more -->

### 1 什么是 C/S 和 B/S 架构

C/S 架构：客户端与服务端架构

B/S 架构：浏览器端与服务端架构

优点：统一了所有应用程序的接口，方便而且轻量级

### 2 简述三次握手与四次挥手

三次握手(建立连接)

- 第一次握手：客户端先向服务器端发起一次询问建立连接的请求，并随机生成一个值作为标识

- 第二次握手：服务端向客户端先回应第一个标识，再重新发一个确认标识

- 第三次握手:客户端确认标识，建立连接开始传输数据

四次挥手(断开连接)

- 第一次挥手：客户端向服务器端发起请求断开连接的请求
- 第二次挥手：服务端向客户端确认请求
- 第三次挥手：服务端向客户端发起断开连接请求
- 第四次挥手：客户端向服务端确认断开请求

### 3 TCP与UDP的区别

TCP：可靠，因为需要对方回了确认收到消息才发下一个，如果没有收到确认信息就重发，是面向连接的传输方式，流式协议
UDP：不可靠，它是一直发数据，不需要对方确认，数据包协议

### 4 什么是socket，简述基于TCP协议的套接字通信流程

Socket是应用层与TCP/IP协议族通信的中间软件抽象层。它是一组接口。在设计模式中，Socket模式其实就是一个门面模式，他将复杂的TCP/IP协议族隐藏在Socket接口后面。对用户来说，一组简单的接口就是全部。

服务端

创建socket对象，绑定ip端口bind(),设置最大连接数listen()，accept()与客户端的socket()创建双向管道，等到连接，send(),recv(),收发数据，close

客户端

创建socket对象，connect()与服务器端accept()创建双向管道，send(),recv(),close()

### 5 什么是粘包，socket中粘包的原因是什么

只有TCP有粘包现象，UDP永远不会粘包

粘包：在获取数据时，出现的数据内容不是本应该接收的数据，如对方第一次发送hello，第二次发送world，我方接收时，第一次是hello第二次是world，但实际上是一次收到helloworld，一次收到空，这种现象叫粘包。

原因：粘包问题主要还是因为接收方不知道消息之间的界限，不知道一次性提取多少字节的数据所造成的。

什么情况会发生

1. 发送端需要等缓冲区满才发送出去，造成粘包(发送数据时间间隔很短，数据小的话会合到一起，产生粘包)
2. 接收方不及时接收缓冲区的包，造成多个包接收(客户端发送了一段数据，服务端只接收了一小部分，服务端下次再收的时候还是从缓冲区拿上次遗留的数据，产生粘包)

### 6 IO多路复用的作用

socketserver，多个客户端，单线程下实现并发效果，就叫多路复用。与多进程和多线程技术相比，IO多路复用技术的最大的优势是系统开销少，系统不必创建进程/线程，也不必维护这些进程/线程，从而大大减少了系统的开销。

### 7 select，poll，epoll模型的区别(属于IO多路复用)

都是IO多路复用的机制，监视多个socket是否发生变化，本质上都是同步IO，select，poll实现需要自己不断轮询所有检测对象，直到对象发生变化，在这个阶段中，可能要睡眠和唤醒多次交替，而epoll也需要调用epoll_wait不断轮询就绪链表，但是当对象发生变化时，会调用回调函数，将变化的对象放进就绪链表中，并唤醒在epoll_wait中进入睡眠的进程。虽然都会睡眠和唤醒，但是select和poll在被唤醒的时候要遍历整个监测对象集合，而epoll只要判断就绪链表是否为空即可，节省了大量CPU时间

select、poll，epoll都是IO多路复用的机制，但select，poll，epoll本质上都是同步IO，因为他们都需要在读写事务就绪后自己负责进行读写，也就是说这个读写过程是堵塞的。

select模型

优点：

1. 可移植性好，在某些UNIX系统不支持poll()
2. 对于超时值提供了很好的精度：微秒

缺点：

1. 最大并发数限制，因为一个进程所打开的fd是有限制的，由 FD_SETSIZE 设置，默认值是 1024/2048 , 因此，Select 模型的最大并发数就被相应限制了。
2. 效率问题：select每次调用都会线性扫描全部的 fd 集合，所以将 FD_SIZE 改大会越慢
3. 需要维护一个用来存放大量fd的数据结构，这样会使得用户空间和内核空间在传递该结构时复制开销大

poll本质上和select没有区别，他将用户传入的数组传入内核空间，他没有最大连接数的限制，原因是它基于链表来存储的，但同样有一个缺点，大量的df数组被整体复制于用户态和内核空间地址，而不管这样的复制是否有意义。

### 8 什么是防火墙及其作用

防火墙是一个分离器、一个限制器，也是一个分析器，有效地监控了内部网和Internet之间的任何活动，保证了内部网络的安全。

作用

防火墙是网络安全的屏障，可以强化网络安全策略，对网络存储和访问进行监控审计，防止内部信息的外泄。除了安全作用，防火墙还支持具有Internet服务特性的企业内部网络技术体系VPN

### 9 路由器和交换机的区别

交换机

是负责内网里面的数据传输(常用的是ARP协议)根据MAC地址寻址。可以将很多主机连接起来，这些主机对外各有各IP,交换机是做端口扩展的，也就是让局域网可以连接更多的电脑

路由器

在网络层，路由器根据路由表，寻找该IP的网段，路由器可以处理TCP/IP协议，可以将一个IP分配给很多个主机使用，这些主机对外指表现出一个IP。是用来做网络连接的，也就是连接不同的网络

### 10 什么是域名解析

在互联网上，所有的地址都是IP地址，现阶段主要是ipv4，但是这些IP地址太难记了，所以就出现了域名，域名解析就是将域名转换为IP的一种行为

### 11 列举 http 请求中常见的请求方式

GET、POST、PUT、PATCH、HEAD、DELETE

### 12 列举http请求中的状态码

分类：

- 1** 信息，服务器收到请求，需要请求者继续执行操作  
- 2** 成功，操作被成功接收并处理  
- 3** 重定向，需进一步操作以完成请求  
- 4** 客户端错误，请求包含语法错误或者无法完成请求  
- 5** 服务端错误，服务器在处理请求的过程中发生错误  

常见的状态码：

- 200：请求成功
- 202：已接收请求，尚未处理
- 204：请求成功，且不需返回内容
- 301：资源被永久转移到其他url
- 400：请求的语义或者是参数错误
- 403：服务器拒绝请求
- 404：请求资源不存在
- 500：内部服务器错误
- 502：网关错误，一般是服务器压力过大导致连接超时
- 503：由于超载或系统维护，服务器暂时的无法处理客户端的请求

### 13 列举 http 请求中常见的请求头

- user-agent
- host
- referer
- cookie
- content-type

### 14 http 与 https 的区别

http默认端口80，信息是明文传输。https默认端口443，信息是加密传输，具有安全性的ssl加密协议

自定义证书

- 服务端：创建一对证书
- 客户端：必须携带证书

购买证书

- 服务端：创建一对证书
- 客户端：去机构获取证书，数据加密后发给咋们的服务单
- 证书机构：公钥给该机构

### 15 谈谈你对http协议的认识

http协议是建立在TCP之上的，是一种规范，他规范了发送的数据的数据格式，然而这个数据格式是通过\r\n进行分割的，请求头与请求体也是通过2个\r\n分割的，响应的时候，响应头与响应体也是通过\r\n分割，并且还规定已请求已响应就会断开连接，即短连接、无状态

