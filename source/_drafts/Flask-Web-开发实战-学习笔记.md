---
title: Flask Web 开发实战|学习笔记
tags:
    - flask
    - web开发
---

## 第一章 初认Flask

### 搭建开发环境

1. Pipenv工作流， 这个就是Python的包管理工具，我们用得太多了
2. 创建虚拟环境，这个我也不多讲了，这是一种Python项目的素养
3. 虽然说这本书中提到了 Pipfile 这种方法来管理依赖，但我还是用回 requestments.txt 加 pip 的方法吧
4. 安装 Flask， 这算是必须的，毕竟这是 Flask 的学习
5. 集成开发环境，我们就用 Pycharm 的社区版吧

### Hello,Flask

在这里，我们写一个最小的 Hello Flask 的程序

### 启动开发服务器

旧的启动方法是使用 app.run()方法，目前已不推荐使用（deprecated）

调试模式开启之后，会自动激活 Werkzeun 内置的调试器(用于调试)，重载器(用于监控代码是否发生改变，然后重新运行项目)

### Python Shell

略

### Flask 扩展

天知道他之后会怎么讲，尽量在效率和灵活性之间达到平衡

### 项目配置

### URL 与端点

使用 Flask 提供的 url_for() 函数获取 URL ，会比硬编码的方式好很多

### Flask 命令

用的可能会比较少，毕竟是在命令行中操作

### 模板与静态文件

模板即 HTML 文件， 静态文件指 CSS 与 JS 与 IMG 等。第三章重点讲

### Flask 与 MVC 架构

## 第二章 Flask 与 HTTP

### 请求响应循环

就是客户端发出请求，服务端处理请求并返回响应

### HTTP 请求

报文的结构基本上就是：报文首部（请求行和首部字段），空行，报文主体

常见的 HTTP 方法

1. GET 方法：获取资源
2. POST 方法：创建或更新资源
3. PUT 方法：创建或替换资源

Request对象就是用户获取请求报文中的所有数据的

url变量转换器，可以将url的值变成各种指定类型。

请求钩子: 在请求的不同过程中会触发到的

### HTTP 响应

1. 常用的HTTP状态码需要记一下

2. 返回的时候可以指定状态码以及重定向url

3. 有各种各样不同的返回类型：纯文本， HTML， XML， JSON

4. 如何设置 Cookie 这个一定要会， 但是这样很危险， 一定不要将用户信息明文保存在 Cookie 中。

5. 例如重定向回上一个页面的功能

6. 确保URL的安全性是很重要的，不然你的网站可能会被重定向到其他的一些钓鱼网站

### Flask 上下文

1. 上下文全局变量
2. 激活上下文
3. 上下文钩子

### HTTP 进阶实践

1. 重定向回上一个页面
2. 使用AJAX技术发送异步请求
3. HTTP 服务器推送
4. Web 安全防范

### Web安全规范

1. 注入攻击:主要是各种命令的注入。如在编写SQL语句时，如果直接将用户传入的数据作为参数使用字符串拼接的方式插入到SQL查询中，那么攻击者可以通过注入其他语言来执行攻击操作，这些攻击操作包括可以通过SQL语句做的任何事情：获取敏感数据、修改数据、删除数据库表
2. XSS攻击:防止用户的输入变成可以执行的代码
3. CSRF攻击: 就是跨站请求伪造

## 第三章 模板

### 模板的基本用法

主要是变量赋值，以及循环之类的内容

### 模板辅助工具

这些工具可以让你更方便地控制模板的输出，我大概了解即可

上下文，全局对象，过滤器，测试器，模板环境对象这些我都不知道是什么？？？

### 模板结构组织

这个是挺重要的，这个技术主要是用来对模板的复用，我们由此可以更好地实践DRY原则

1. 为了和普通模板区分开，局部模板的命名通常以一个下划线开始。
2. 模板竟然也可以继承，这知识点也有点太偏了吧。不过我一看竟然我早就用过了，就是有一个base.html然后其他的来继承它，然后再{% block 。。。%}地调用它。。

### 模板进阶实验

1. 空白控制可以使多余的空行删除
2. 加载静态文件可以用url_for的方法

## 第四章 表单

变但是我们最常用的用户交互方式之一

### HTML表单



