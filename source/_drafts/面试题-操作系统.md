---
title: 面试题|操作系统
tags:
---

<!-- more -->

### 1 线程与进程的区别

在我看来，线程与进程最核心的区别就是是否共享的内存空间。他们之间其他的差异都是由这一个推导出来的。

### 2 一个进程崩溃后，会不会对其他进程有影响

进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其他进程产生影响。

### 3 同一个进程所开的线程中，有一个线程挂掉了，是否会对其他线程有影响

线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于整个进程死掉，所以多进程的程序要比多线程的程序健壮，但进程切换时，耗费资源较大，效率要差一些。

### 4 进程之间要怎么通信

总的来说有五种通信方式：

管道

管道的通知机制类似于缓存，就像一个进程将数据放在某个缓存区域，然后等着另外一个进程去拿，并且管道是单向传输的。这种方法有什么缺点呢？显然，这种方法效率低下，a进程给b进程取了数据后a进程才能返回。所以管道不适合频繁通信的进程。当然，他也有它的优点，能够保证我们的数据已经真的被其他进程拿走了。

消息队列

a进程要给b进程发送消息，只需要把消息放在对应的消息队列里就行了，b进程需要的时候再去对应的消息队列中取出来。这种通信方法的缺点是如果a进程发送的数据占的内存比较大，并且两个进程之间的通信特别频繁的话，消息队列模型就不大适合了。因为a发送的数据很大的话，意味着发送消息这个过程需要花很多时间来读内存。

共享内存

共享内存这个通信方法可以比较好地解决拷贝所消耗的时间了。系统加载一个进程的时候，分配给进程的内存并不是实际的物理内存，而是虚拟空间。那么我们可以让两个进程各自拿出一块虚拟地址空间来，然后映射到相同的内存空间中，但有一部分却是映射到相同的物理内存，而是虚拟内存空间，这样就完成了内存共享机制。但共享内存最大的问题就是多进程竞争内存的问题，也就相当于线程安全问题

信号量

信号量本质就是一个计数器，用来实现进程间的互斥与同步。例如信号量初始值是1，然后a进程来访问内存1的时候，我们就将信号量的值设为零，然后进程b也要来访问内存1的时候看到信号量的值为零时就知道已经有进程在访问内存1,这个时候进程b就会访问不了内存1.所以说，信号量也是进程之间的一种通信方式。

Socket

我们平常通过浏览器发起一个http请求，然后服务器给你返回对应的数据，这种就是采用Socket的通信方式了

### 5 什么情况下用多线程，什么情况下用多进程

对于一些要求同时进行并且又要共享变量的并发操作，只能用线程，不能用进程

## 参考文章

- [进程和线程的区别？](https://blog.csdn.net/mxsgoden/article/details/8821936)