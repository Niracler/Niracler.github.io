---
title: 分布式爬虫学习(一)
tags:
---

<!-- more -->

### 技术选型

1. requests 和 beautifulsoup 都是库， scrapy 是框架
2. scrapy 框架中可以加入 requests 和 beautifulsoup
3. scrapy 基于 twisted， 性能是最大优势
4. beautifulsoup 是纯 python 写的，所以会特别慢
5. scrapy方便扩展， 提供了很多内置的功能
6. scrapy内置的css和xpath selector 非常方便，beautiful 最大的缺点就是慢
7. 性能会有几十或上百倍的速度差异

### 爬虫作用

1. 搜索引擎--百度， google， 垂直领域搜索引擎
2. 推荐引擎--今日头条
3. 机器学习数据样本
4. 数据分析(如金融分析)，舆情分析

### 正则表达式

1. ^ 表示以什么开头
2. $ 表示以什么结尾
3. . 表示任意字符
4. \* 表示前面那个字符可以出现任意多次
5. 贪婪匹配就是匹配最长的适配字符串
6. ? 就能指定非贪婪匹配，能够一匹配成功就不继续
7. \+ 与 \* 类似，不过至少会出现一次
8. {3,5}，前面的字符出现多少次,最少三次，最多五次
9. [] 中括号中任意一个都可以
10. \s 代表空格
11. \S 只要不是空格就行
12. \w = [A-Za-z0-9_]
13. \W 只要不是\w就行

### 爬虫去重策略

1. 将访问过的url保存到数据库中
2. 将访问过的url保存到set中，但是一亿条数据就要9G内存
3. url经过md5等方法哈希可以压缩五六倍
4. 使用bitmap，将访问过的hash函数映射到某一位
5. bloomfilter方法对bitmap进行改进，多重hash函数降低冲突

## 参考文章

[一个正则表达式的练习网站](https://alf.nu/RegexGolf)