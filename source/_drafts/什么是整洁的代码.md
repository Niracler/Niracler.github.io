---
title: 什么是整洁的代码
tags:
  - 优雅
  - 翻译
---

什么是整洁的代码?
--------------

在软件工程这样一个庞大而多样化的领域中，持续阅读对于构件基础知识和探索分支知识至关重要。与任何行业一样，软件开发有一些必读书籍，而《代码整洁之道》就是其中之一。这本书常年出现在Google的“顶级软件工程书籍”搜索结果中， 并且在工程界广为人知。

这里有一些我从中学习到的知识，与大家分享一下。

---

### 对这本书的介绍

![](/images/Screenshot_20190307_203505.png)

在很多方面，《代码整洁之道》的结构像是一本代码手册。正如大多数好书一样，是一本非常自以为是的书。

马丁在这本书中描述了什么是好的编码以及怎样去重构不好的编码，以告诫那些无法分辨出编码习惯好坏的人。马丁对他的失败持开放态度。多年来阅读糟糕的代码的经历让他有意去帮助其他开发者避免危险。总之，这本书成百上千的建议会使你生产出优质的代码。也就是说，大多数工程师都在努力学习，使他的糟糕的代码变得更好。

但是《代码整洁之道》不仅仅是一个教程。他不仅描述了编写好代码的方式，而且写了为什么要写好代码。不仅仅是事记硬背的规则。我从中读出了一个优秀的程序员的不可侵犯的价值观。下面，我将这概括为三个关键的概念。

#### **1\. 我们要有工匠精神**

很少会有那种从始到终都不被修改的完美代码(当然，“完美的代码”这样的说法是错误的，没有什么事物是完美的)。尽管如此，编写出尽可能最好的代码是软件工程师的首要任务。有的时候，这意味着我们要在项目进度、客户需求、管理要求、疲劳这几方面进行平衡。

底线：“工作”的代码并不总是“完成”。如果编码人员的工作是生产解决问题的产品，那么解决问题的方法是否重要？ 是。 从长远来看，软件做得很好，每个人都受益 - 客户，用户，公司和编码员。 代码混乱，匆忙或“足够好”的代码，这是着眼于短期回报的体现。

> 即使是优秀整洁的代码，在一段时间过后也会显得糟糕不堪。而且会比你预想中的要坏。

马丁认为，编写整洁的代码的关键是高质量的输入（周全，可维护，灵活的代码），可以产生高质量的输出（长期业务收益）。

#### **2\. 你今天的努力可以减轻日后的负担**

All of us have experienced the disappointment that comes with using a low-quality product. Think of the new shirt that frays at the edges after just a few runs through the washing machine, or the plastic toy that breaks mere moments after your child takes it out of the box. Poorly crafted code is no different — it frays at the edges much faster than you might expect.

Compare this to something you treasure for its quality. I once wore a pair of shoes almost daily for over a decade before they finally wore out. They were a bit more expensive than other shoes but their quality was undeniable, and I saved money in the long run. What did I do when the time finally came to throw those shoes out? I bought an identical pair because I knew they’d last me another decade.

The same principle applies to code. High-quality input not only produces longer-lasting output, it also saves money and builds customer loyalty. Meticulously refactoring and testing your code may take longer in the beginning, but the savings in technical debt and maintainability are well worth the extra effort.

我们所有人都经历过使用低质量产品所带来的失望。想象一下，穿过​​洗衣机后几分钟就会磨损边缘的新衬衫，或者是在你的孩子将它从包装盒中取出后立即打破的塑料玩具。制作精良的代码没有什么不同 - 它在边缘处的碎片速度比您预期的要快得多。

将此与您珍惜其质量的东西进行比较。我几乎每天都穿着一双鞋十多年才终于磨损了。它们比其他鞋子贵一点，但它们的质量是不可否认的，从长远来看，我省钱了。当时间终于把这些鞋扔出去时，我做了什么？我买了一双相同的对，因为我知道他们会再过我十年。

同样的原则适用于代码。高质量的输入不仅可以产生更持久的输出，还可以节省资金并建立客户忠诚度。精心重构和测试您的代码可能需要更长的时间，但技术债务和可维护性的节省非常值得额外的努力。

#### **3\. 你的代码不只是你自己的**

It’s important to take pride in your own work. It’s equally important to recognize that the code you write is not your own.

> Overly clever tricks, hacks, and sleights of programmatic hand are only fun for the author.

This may seem like a bit of a paradox — after all, writing clean code requires you to have a stake in its quality. But good code is not really yours because it’s intended for consumption by others: your teammates, your customers, and even your future self. What happens when some future project maintainer (possibly even yourself) can’t understand why you’ve written something the way you have? They will no doubt have to spend precious time and mental energy deciphering the puzzle you’ve left for them.

以自己的工作为荣，这很重要。 认识到你编写的代码不是你自己的代码同样重要。

>过于聪明的技巧，黑客和程序手的技巧只对作者有趣。

这可能看起来有点悖论 - 毕竟，编写干净的代码需要您与其质量相媲美。 但好的代码并不是真的，因为它的目的是供他人使用：你的队友，你的客户，甚至你未来的自我。 当一些未来的项目维护者（甚至可能是你自己）无法理解为什么你用你的方式写东西时会发生什么？ 毫无疑问，他们必须花费宝贵的时间和精力来解读你为他们留下的谜题。


***

### 什么是整洁的代码？

每个人都有他(她)独自的如何编写整洁的代码的列表。事实上，马丁的书中有各种各样的软件名人给出的整洁的代码的定义集合。根据我在本书中学到的内容，我的定义如下：

1.  **Clean code is simple**. Perhaps not simple in algorithmic or system-level complexity, but certainly simple in implementation. Overly clever tricks, hacks, and sleights of programmatic hand are only fun for the author and diminish the code’s long-term value. The same goes for long-winded code that takes forever to get to the point.

1. 整洁的代码是简单的。在算法或系统级复杂性方面可能并不简单，但在实现方面肯定很简单。 过于聪明的技巧，黑客和程序手的技巧只对作者有趣，并削弱了代码的长期价值。 对于冗长的代码来说也是如此，需要永远才能达到目的。

2.  **Clean code is** **readable**. If the naming conventions, spacing, structure, and flow used in a program are not designed with the reader in mind, then that reader will almost certainly fail to understand the original author’s intent. Conventions about how to write readable code may seem dogmatic or lacking in expressiveness, but they help to make code communal rather than arcane.

2. 整洁的代码是可读性强的。如果程序中使用的命名约定，间距，结构和流程不是为读者而设计的，那么该读者几乎肯定无法理解原作者的意图。 关于如何编写可读代码的约定可能看似教条或缺乏表达性，但它们有助于使代码公共而不是晦涩。

3.  **Clean code is considerate**. Code that does not do its best to inform future readers is code that does not respect their time. Clean code should be written with the assumption that future consumers are intelligent, thoughtful professionals (like you), and it should go out of its way to help them.

3. 整洁的代码是体贴的。没有尽力告知未来读者的代码是不尊重他们时间的代码。 清洁代码的编写应该假设未来的消费者是聪明的，有思想的专业人士（像你一样），它应该不遗余力地帮助他们。

4. 简洁的代码是经过测的。没有人能够在第一次就写出没有BUG的代码。即使假如能够做到，没人能保证这完美的代码在之后不会出错。写出整洁的代码代表着写出经过测试的代码。这样，未来的用户可以确信他们正在和有效的软件进行交互。此外，在进行修改时，他们还会有一个现成的测试组件，以确保程序没有问题。

5.  **Clean code is practiced**. Writing clean code requires good muscle memory, just like playing an instrument, kicking a ball, or frying an egg. The best way to learn to write clean code — and, more importantly, retain the skill — is to do it all the time. When you’re at home working on a personal project, do it with clean code — even when no one else will ever see it.

实践清洁代码。 编写干净的代码需要良好的肌肉记忆，就像玩乐器，踢球或煎蛋一样。 学习编写干净代码的最佳方法 - 更重要的是，保留技能 - 就是一直这样做。 当你在家里从事个人项目时，用干净的代码来做 - 即使没有其他人会看到它。

6.  **Clean code is relentlessly refactored**. Clean code should be in a constant state of refactoring. With a good test suite to back up your code, you can refactor it as much as you like and never worry about breakage.

6. 整洁的代码是被无情地重构出来的。

7.  **Clean code is SOLID**. Good code is as much about good design as it is about cleanliness. Following the [SOLID principles](https://medium.com/@severinperez/writing-flexible-code-with-the-single-responsibility-principle-b71c4f3f883f) is one way to ensure that your code is flexible, maintainable, and long-lasting.

7. 整洁的代码是SOLID。整洁的代码同时也是整洁的设计，遵循SOLID原则是确保你的代码具有灵活性、可维护性、和持久性的方法。

If we take Martin’s book as a bible, the attributes for what makes “clean code” could multiply exponentially. But this list, culled from careful reading of *Clean Code*, is a good place to start. Adhering to these principles requires constant attention to detail and a willingness to acknowledge that what you wrote yesterday can still be improved today — even if it worked just fine before.


如果我们将马丁的书作为圣经，那么“整洁”的属性可以成倍增加。 但仔细阅读《代码整洁之道》后，这个清单是一个很好的起点。 坚持这些原则需要不断关注细节，并愿意承认你昨天所写的内容今天仍然可以改进，即使之前工作得很好。

***

Although *Clean Code* contains a plethora of useful rules and best practices, it’s perhaps more useful for the mentality it imbues in its readers — that craftsmanship matters, effort today saves pain tomorrow, and code is never really your own. The more coders read it, the cleaner the world’s code will be, and all of our jobs will be easier.


尽管《代码整洁之道》包含了大量有用的规则和最佳实践，但它对读者所蕴含的心态可能更有用，我们要有工匠精神，你今天的努力可以减轻日后的负担，你的代码不只是你自己的。 编码员阅读的越多，世界代码就越干净，我们的所有工作都会变得更容易。


译者的话
--------
之前翻译的那几篇太多链接了，无法发到微信公众号等平台，太郁闷了。


参考
----

[What Is Clean Code?](https://medium.com/s/story/reflections-on-clean-code-8c9b683277ca)
