---
title: 量化交易|万矿交易平台学习(初阶)
tags:
  - 量化交易
date: 2019-07-11 14:29:28
---


## 关于我对量化交易的看法

在此之前，我先说一下我对量化交易的看法，假如你的水平只是半桶水，那么你可能会亏死。量化交易就是一帮专业的赚快钱的人，我就不相信教这门课的讲师能有几个能靠这个赚钱的。

## 万矿量化平台介绍

> 万矿平台的功能也就下面四个，它的编程题目也是按照这四个出的

1. 数据获取与处理
2. 因子研究
3. 数据可视化
4. 策略回测

<!-- more -->

### 通过 Wind API 获取金融数据

### 使用 Pandas/Numpy等工具对数据进行处理和分析

### 使用 WindCharts 对数据进行可视化

### 使用 WindAlgo 进行策略回测

## Wind API 金融数据接口

### WSD日期序列函数

主要是用来获取一段时间里面某个股票某个指标的情况

### WSS多维数据函数

用来获取选定证券品种的历史截面数据

### WSQ行情数据函数

用来获取选定证券品种的当天实施指标数据，数据可以一次性请求，也可以通过订阅的方式获取

### WSET数据集

主要用于获取数据集的信息，例如我要获取沪深300的所有数据的id号

### TDays 日期函数

用于获取那种奇怪的时间序列的函数

## Python 基础入门

> 这个我大概是不需要了

## Numpy库

### 关于Numpy数组的一些事情

1. 数组array的生成
2. 数组array的性质
3. 数组array间运算
4. 数组array集合运算
5. 数组array切片进阶
6. 数组排序
7. 数组拼接
8. 数组分解

### Numpy中的一些常用函数

1. np.arange 可以生成array
2. np.linspace 返回均匀间隔的数字
3. 常用的矩阵：全零或全一
4. np.tile() 重复某个对象为一定的结构

### Numpy常用常量

1. np.e 自然底数
2. np.NaN 缺失值
3. np.inf 无穷大
4. np.pi 圆周率

### Numpy随机数产生

### Numpy矩阵性质

### Numpy矩阵运算

### 多项式曲线拟合

## Pandas库

### 序列Series

### DataFrame

1. DataFrame的生成
2. DataFrame的基本性质
3. DataFrame截取
4. DataFrame缺失值处理
5. DataFrame排序
6. DataFrame的基本函数
7. DataFrame的拼接
8. DataFrame分组及透视表

什么是透视表？

## SciPy库

### 积分和微分方程求解--integrate

1. 数值积分--quad
2. 常微分方程求解--odeint

### 最优化求解--optimize

1. 曲线拟合
2. 资产组合的有效边界求解

### 概率统计

1. 描述性统计
2. 连续概率分布
3. 离散概率分布
4. 假设检验

### 聚类分析--cluster

### 插值处理--interpolate

1. 一维插值
2. 二维插值
3. 径向量插值

## 信号处理

### 序列线性趋势提取
### 傅里叶分析

## 股票多因子策略

### 什么是因子？

因子就是指标或者特征, 如PE、PB、5日均线等。因子选股模型就是通过分析各个因子与股票表现（收益率）之间的关系而建立的一套量化选股的体系。

### 怎么判断单个因子是否有效呢？

我们一般看因子值与收益率之间的相关性（称为信息系数IC）是衡量因子有效性的重要指标，通常大于0.03，就认为该因子有效

有效的因子=有效的区分度

### 判断单因子是否有效的步骤

1. 将股票按照因子的大小从高到低排序
2. 将排序后的股票分为3组
3. 比较这三组股票下一期的平均收益率
4. 如果TOP>MIDDLE>BOTTOM, 则因子有效

### 怎么判断多个因子是否有效？

大致的流程是：单因子分析->选择因子->构建多因子组合->选股/押注

1. 打分法:跟随机森林？
2. 回归法:就是多元线性回归？

## 万矿的多因子选股分析

### 获取原始分析数据(因子数据，收益率数据)

一般用作多因子选股模型的因子可以分为两大类：

技术面分析类:趋势动量类，反转类及波动类
基本面分析类:主要基于财报数据

### 原始因子数据处理(去极值，标准化)

去极值:主要有MAD与STD方法  
标准化: 让其分布更为均匀，以及区间更为合理

### 因子分析

IC分析在整个单因子分析过程中起主导性作用，反映了因子暴露值与股票表现之间的线性关系。

IC_IR 反应的是IC序列的稳定性，我们用IC时间序列的均值除以其方差得到IC_IR， 所以IC_IR越大越好

### 什么是IC信号衰减？

一般提到IC我们都是计算当期的因子值与下一期收益率之间的相关性，也就是因子值与收益率之间相差一个周期。而IC衰减描述的是因子值和相隔LEG期的收益率的相关性，具体的计算方法如下:

如果一共有N期的因子数据和收益率的数据，我们先把所有i期因子和i+1期收益率的IC值先求出来求平均，再把i期因子和i+2收益率的IC求平均（i=1..N-LAG），最终我们得到LAG个IC的均值

### 因子分析:换手率分析

关于换手率的分析，常用的方法有:  
个数法:计算每期之间股票变动的数量并除以股票的总数量计算出的比率    
权重法:不仅考虑股票本身的变化，还考虑了股票权重的变化

### 买入信号衰减与反转

买入信号的衰减度量的是当前买入的股票在后续调仓期买入的比率

### 因子分析:板块分析

> 这究竟是?

## 股票多因子策略进阶

### 多因子组合分析

单因子与多因子的主要区别在于:
因子选择和多因子组合得分

主要的组合得分的计算方法：

- 等权法
- IC加权法
- ICIR加权法

## 期货套利策略 

> 我感觉期货套利与配对交易没什么差别啊，都是在相关性极高的同类产品间不断地进行买入卖出。这个我感觉在熊市也可以做啊。

因为自带杠杆的性质，所以风险就极高

## 线性代数应用量化投资

### 线性代数的理论基础

### 线性回归模型简介

### 线性回归模型求解模拟

### 线性回归模型用于多因子选股

## 概率论应用量化投资

### 概率分布

### 离散型随机变量的概率分布

1. 二项分布
2. 泊松分布

### 连续型随机变量的概率分布

1. 正态分布
2. 均匀分布

### 置信区间

### 概率分布与置信区间在统计套利中的应用

1. 期货品种筛选
2. 计算品种之间的相关性
3. 构建策略模型
4. 策略回归

## 市场投资组合理论

### 基于Python的线性规划函数求最优解

线性规划就是高中那种，几个图，然后用一条线在上面滑动来求最优解的方法

## 现代投资组合理论(MPT)

运用线性规划来处理收益与风险的权衡问题，给出选择最佳投资组合的方法。

### MPT依据以下几个假设:

1. 投资者在考虑每一次投资选择时，其依据的是某一持仓时间内的证券收益的概率分布
2. 投资者是根据证券的期望收益率估测证券组合的风险
3. 投资者的决定仅仅是依据证券的风险和收益
4. 在一定的风险水平上，投资者期望收益最大;对应的是在一定的收益水平上，投资者希望风险最小

### 有效边界(最小方差组合)

有效的投资必须满足以下的条件之一：
1. 同等风险条件下收益最大
2. 同等收益条件下风险最小

### 资本市场(CML)

是在MPT基础上引进无风险资产得到的

资本市场线是指表明有效组合的期望收益和标准差之间的一种简单的线性关系的一条射线。它是沿着投资组合的有效边界，由风险资产和无风险资产的一个有效组合。

基本思路:当考虑无风险资产是，投资者首先确定高风险资产的一个有效组合，然后在组合中加入无风险资产。此时，投资组合为穿过无风险收益点有效前沿上的一条切线。

### 资本资产定价模型(CAPM)

假设所有投资者都按马克维茨的资产选择理论进行投资，对期望收益，方差和协方差等的估计完全相同，投资人可以自由借贷

基于这样的假设，资本资产定价模型研究的重点在于探求风险资产收益与风险的数量关系，即为了补偿某一特定程度的风险，投资者应该获得多少的报酬率？

## 金融时序分析初阶

### 相关系数

皮尔逊（Pearson）相关系数，就是我们平常说的那个相关系数

自相关函数(Autocorrelation Function, ACF)，顾名思义就是衡量自己和自己的相关程度，即r(t)和过去某个时间r(t-l)的相关性

偏自相关函数(Partial Autocorrelation Function, PACF), 

### 平稳性

时间序列的平稳性是其基本的假设，只有基于平稳时间序列的预测才是有效的。

### 单位根检验

常见的单位根检验方法有:DF检验，ADF检验，和PP检验

ADF的原假设为序列有单位根（非平稳）H0，备择假设为序列是平稳的H1。对于一个平稳的时序数据，就需要在给定的置信水平上显著，拒绝原假设。

### 白噪声序列和线性时间序列

1. xt 是一个具有有限方差和有限均值的IDD（独立同分布，independent and identically distributed）随机变量序列，则 {xt} 称为一个白噪声序列（white noise）。其均值等于0、方差等于𝜎2，协方差等于0。可以得出，白噪声过程中各期变量之间的协方差为0，也就是说白噪声过程是没有相关性的。这种时间序列也称为纯随机序列。

若 𝑋𝑡 还服从均值为 0 ，方差为𝜎2的正态分布，则称这个序列为高斯白噪声序列（Gaussian white noise）。

对于白噪声序列，一定是平稳的时间序列。

## 金融数据处理与统计

数据的频数分析。在数据的预处理部分，利用频数分析和交叉频数分析可以检验异常值

数据的集中趋势分析。用来反映数据的一般水平，常用的指标有平均值，中位数，和众数

数据的离散程度分析。主要是用来反映数据之间的差异程度，常用的指标有方差和标准差。

数据的分布。在统计分析中，通常要假设样本所属总体的分布属于正太分布，因此需要用偏度和峰度两个指标来检查样板数据是否符合正太分布。

绘制统计图。用图形的形式来表达数据，比用文字表达更清晰，更简明。

### 几何平均数

算术平均数是用加法计算，几何平均数是用乘法计算

### 调和平均数

调和平均数又叫倒数平均数，是总体各统计变量倒数的算术平均数的倒数。调和平均数是平均数的一种，调和平均数也有简单调和平均数和加权调和平均数两种。

### 方差和标准差

### 极差

最大最小值的差

### 平均绝对离差

### 半方差和半绝对离差

主要是看向下偏离得多厉害

### 偏度

一阶中心矩--均值  
二阶中心矩--方差
三阶中心矩--偏度
四阶中心矩--峰度